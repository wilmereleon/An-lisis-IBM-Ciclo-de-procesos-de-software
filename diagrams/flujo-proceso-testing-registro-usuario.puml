@startuml flujo-proceso-testing-registro-usuario
!theme aws-orange
!define ICONURL https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/master
!includeurl ICONURL/common.puml
!includeurl ICONURL/font-awesome-5/check_circle.puml
!includeurl ICONURL/font-awesome-5/times_circle.puml
!includeurl ICONURL/font-awesome-5/bug.puml
!includeurl ICONURL/font-awesome-5/cogs.puml
!includeurl ICONURL/font-awesome-5/database.puml
!includeurl ICONURL/font-awesome-5/envelope.puml

' Configuraciones especÃ­ficas para diagramas largos
skinparam dpi 200
skinparam defaultFontSize 11
skinparam minClassWidth 100
skinparam maxMessageSize 500
skinparam wrapWidth 300
skinparam style strictuml

title <size:20><b>FLUJO COMPLETO DE TESTING EN CICLO DE DESARROLLO</b></size>\n<size:16>Sistema de Registro de Usuario - ISO/IEC 29119</size>\n<size:12>Incluye Testing desde AnÃ¡lisis de Requisitos hasta Cierre de Proyecto</size>

skinparam {
    backgroundColor #F8F9FA
    activity {
        BackgroundColor #E3F2FD
        BorderColor #1976D2
        FontColor #0D47A1
        FontSize 11
        FontName Arial
    }
    decision {
        BackgroundColor #FFF3E0
        BorderColor #F57C00
        FontColor #E65100
        FontSize 11
        FontName Arial
    }
    note {
        BackgroundColor #F3E5F5
        BorderColor #7B1FA2
        FontColor #4A148C
        FontSize 10
    }
    arrow {
        Color #1976D2
        FontColor #0D47A1
        FontSize 10
    }
}

start

partition "**FASE 1: ANÃLISIS DE REQUISITOS**" #FFE0B2 {
    :ğŸ“‹ **Review de Requisitos**
    â€¢ Testabilidad de requisitos
    â€¢ Criterios de aceptaciÃ³n
    â€¢ AnÃ¡lisis de ambigÃ¼edades;
    
    if (ğŸ” **Â¿Requisitos Testables?**) then (âœ… SÃ)
        :âœ… **Requirements Review: PASSED**
        â€¢ 100% requisitos con criterios verificables
        â€¢ Trazabilidad establecida;
    else (âŒ NO)
        :<color:red>âŒ **Requirements Review: FAILED**</color>
        â€¢ Requisitos ambiguos identificados
        â€¢ Criterios de aceptaciÃ³n faltantes;
        
        :ğŸ”§ **Refinamiento de Requisitos**
        â€¢ Clarificar ambigÃ¼edades
        â€¢ Definir criterios SMART
        â€¢ Re-review con stakeholders;
        
        :ğŸ”„ **Re-validation**
        Requisitos refinados;
        
        stop
    endif
    
    :ğŸ“Š **Test Planning Inicial**
    â€¢ Estrategia de testing por requisito
    â€¢ EstimaciÃ³n de esfuerzo inicial
    â€¢ IdentificaciÃ³n de riesgos tempranos;
}

partition "**FASE 2: DISEÃ‘O DEL SISTEMA**" #E1F5FE {
    :ğŸ¨ **Review de DiseÃ±o**
    â€¢ Testabilidad de arquitectura
    â€¢ Puntos de inyecciÃ³n de fallas
    â€¢ Estrategia de mocking/stubbing;
    
    if (ğŸ” **Â¿DiseÃ±o Testeable?**) then (âœ… SÃ)
        :âœ… **Design Review: PASSED**
        â€¢ Arquitectura soporta testing
        â€¢ Interfaces bien definidas;
    else (âŒ NO)
        :<color:red>âŒ **Design Review: FAILED**</color>
        â€¢ Arquitectura monolÃ­tica
        â€¢ Dependencias acopladas;
        
        :ğŸ”§ **Refactoring de DiseÃ±o**
        â€¢ Introducir interfaces
        â€¢ SeparaciÃ³n de responsabilidades
        â€¢ Puntos de prueba identificados;
        
        stop
    endif
    
    :ğŸ“ **Test Design Specification**
    â€¢ Casos de prueba derivados del diseÃ±o
    â€¢ Test data requirements
    â€¢ Environment specifications;
}

partition "**FASE 3: PLANIFICACIÃ“N DE TESTING**" #E8F5E8 {
    :ğŸ“‹ **Elaborar Test Plan**
    â€¢ Definir estrategia de testing
    â€¢ Establecer criterios de entrada/salida
    â€¢ Asignar recursos y cronograma;
    
    :ğŸ“Š **AnÃ¡lisis de Riesgos**
    â€¢ Identificar riesgos de producto
    â€¢ Definir estrategias de mitigaciÃ³n
    â€¢ Priorizar casos crÃ­ticos;
    :ğŸ“Š **AnÃ¡lisis de Riesgos de Testing**
    â€¢ Identificar riesgos de producto
    â€¢ Definir estrategias de mitigaciÃ³n
    â€¢ Priorizar casos crÃ­ticos;
    
    if (ğŸ” **Â¿Plan de Testing Aprobado?**) then (âœ… SÃ)
        :âœ… **Test Plan: APPROVED**
        â€¢ Estrategia alineada con requisitos
        â€¢ Recursos y cronograma validados;
    else (âŒ NO)
        :<color:red>âŒ **Test Plan: REJECTED**</color>
        â€¢ Cobertura insuficiente
        â€¢ Recursos inadecuados;
        
        :ğŸ”§ **RevisiÃ³n de Plan**
        â€¢ Ajustar estrategia
        â€¢ Reasignar recursos
        â€¢ Replantear cronograma;
        
        stop
    endif
}

partition "**FASE 4: IMPLEMENTACIÃ“N DE CÃ“DIGO**" #FFF3E0 {
    :ğŸ” **AnÃ¡lisis de Requerimientos**
    â€¢ REG-001: ValidaciÃ³n email
    â€¢ REG-002: PolÃ­tica contraseÃ±as
    â€¢ REG-003: Unicidad usuario
    â€¢ REG-004: Email confirmaciÃ³n;
    
    :ğŸ§ª **Code Review con Enfoque en Testing**
    â€¢ RevisiÃ³n de testabilidad del cÃ³digo
    â€¢ ValidaciÃ³n de unit tests implementados
    â€¢ Quality gates automatizados;
    
    if (ğŸ” **Â¿Code Review PASS?**) then (âœ… SÃ)
        :âœ… **Code Review: PASSED**
        â€¢ CÃ³digo testeable y bien estructurado
        â€¢ Unit tests con >85% coverage;
    else (âŒ NO)
        :<color:red>âŒ **Code Review: FAILED**</color>
        â€¢ CÃ³digo no testeable
        â€¢ Coverage insuficiente;
        
        :ğŸ”§ **Refactoring de CÃ³digo**
        â€¢ Mejorar testabilidad
        â€¢ Aumentar coverage
        â€¢ Corregir code smells;
        
        stop
    endif
    
    note right
        **Actividades de Testing:**
        â€¢ Unit Testing durante desarrollo
        â€¢ TDD/BDD practices
        â€¢ Continuous Integration
        â€¢ Static Code Analysis
    end note
}

partition "**FASE 5: TESTING DE INTEGRACIÃ“N/SISTEMA**" #F3E5F5 {
    :âš™ï¸ **Setup Ambiente de Testing**
    â€¢ Backend Node.js + MongoDB
    â€¢ Frontend React.js
    â€¢ Mock Email Service (MailHog);
    
}

partition "**FASE 5: TESTING DE INTEGRACIÃ“N/SISTEMA**" #F3E5F5 {
    :âš™ï¸ **Setup Ambiente de Testing**
    â€¢ Backend Node.js + MongoDB
    â€¢ Frontend React.js  
    â€¢ Mock Email Service (MailHog);
    
    :ğŸ”§ **Configurar Herramientas**
    â€¢ Jest (Pruebas unitarias)
    â€¢ Cypress (E2E)
    â€¢ Supertest (API);
}

partition "**FASE 6: EJECUCIÃ“N DE TESTING**" #E3F2FD {
    :â–¶ï¸ **Ejecutar Test Suite**
    ValidaciÃ³n Email (8 casos);
    
    if (ğŸ” **Â¿Tests Email PASS?**) then (âœ… SÃ)
        :âœ… **Email Validation: PASSED**
        â€¢ 100% casos exitosos
        â€¢ RFC 5322 compliance verificado;
    else (âŒ NO)
        :<color:red>âŒ **Email Validation: FAILED**</color>
        â€¢ Registrar defecto
        â€¢ Analizar causa raÃ­z;
        
        :ğŸ› **GestiÃ³n de Defectos**
        â€¢ Crear ticket en sistema
        â€¢ Asignar prioridad/severidad
        â€¢ Coordinar con desarrollo;
        
        :ğŸ”„ **Re-testing**
        Una vez corregido;
        
        stop
    endif
    
    :â–¶ï¸ **Ejecutar Test Suite**
    ValidaciÃ³n ContraseÃ±a (12 casos);
    
    if (ğŸ” **Â¿Tests ContraseÃ±a PASS?**) then (âœ… SÃ)
        :âœ… **Password Validation: PASSED**
        â€¢ 83.3% casos exitosos inicialmente
        â€¢ PolÃ­tica seguridad verificada;
    else (âŒ NO)
        :<color:red>âŒ **Password Validation: FAILED**</color>
        â€¢ DEF-001: Regex restrictivo
        â€¢ DEF-002: Buffer overflow;
        
        note left
            **Defectos Identificados:**
            â€¢ Caracteres especiales Unicode
            â€¢ ContraseÃ±as >100 caracteres
            â€¢ Severidad: Media/Alta
        end note
        
        :ğŸ”§ **Proceso de CorrecciÃ³n**
        â€¢ Expandir regex validaciÃ³n
        â€¢ Implementar lÃ­mite mÃ¡ximo
        â€¢ Validar correcciones;
        
        :ğŸ”„ **Re-testing**
        Casos TC-PASS-007, TC-PASS-012;
        
        stop
    endif
    
    :â–¶ï¸ **Ejecutar Test Suite**
    Registro Completo (10 casos);
    
    if (ğŸ” **Â¿Tests Registro PASS?**) then (âœ… SÃ)
        :âœ… **Registration Flow: PASSED**
        â€¢ 90% casos exitosos
        â€¢ IntegraciÃ³n DB/Email OK;
    else (âŒ NO)
        :<color:red>âŒ **Registration Flow: FAILED**</color>
        â€¢ DEF-003: Race condition
        â€¢ Unicidad usuario comprometida;
        
        :ğŸ”§ **Implementar SoluciÃ³n**
        â€¢ Unique constraints en BD
        â€¢ Locks transaccionales
        â€¢ Retry logic;
        
        :ğŸ”„ **Re-testing CrÃ­tico**
        TC-REG-015 + pruebas concurrencia;
        
        stop
    endif
    
    :â–¶ï¸ **Ejecutar Test Suite**
    End-to-End (4 casos);
    
    if (ğŸ” **Â¿Tests E2E PASS?**) then (âœ… SÃ)
        :âœ… **E2E Testing: PASSED**
        â€¢ 100% flujo completo
        â€¢ Email activation verificado;
    else (âŒ NO)
        :<color:red>âŒ **E2E Testing: FAILED**</color>
        â€¢ IntegraciÃ³n fallida
        â€¢ User journey interrumpido;
        
        :ğŸ” **AnÃ¡lisis de IntegraciÃ³n**
        â€¢ Verificar conectividad servicios
        â€¢ Validar configuraciÃ³n ambientes
        â€¢ Revisar datos de prueba;
        
        stop
    endif
}

partition "**FASE 7: EVALUACIÃ“N Y REPORTE**" #E8F5E8 {
    :ğŸ“Š **Compilar MÃ©tricas**
    â€¢ 91.2% casos exitosos
    â€¢ 5 defectos identificados
    â€¢ Cobertura cÃ³digo: 91.04%;
    
    if (ğŸ“‹ **Â¿Criterios Salida Cumplidos?**) then (âœ… SÃ)
        :âœ… **Criterios de Salida: MET**
        â€¢ 100% casos ejecutados âœ“
        â€¢ Cobertura â‰¥85% âœ“
        â€¢ DocumentaciÃ³n completa âœ“;
        
        note right
            **MÃ©tricas Finales:**
            â€¢ Test Success Rate: 91.2%
            â€¢ Code Coverage: 91.04%
            â€¢ Defect Density: 0.15/KLOC
            â€¢ Performance: <2s avg
        end note
    else (âŒ NO)
        :<color:red>âŒ **Criterios Pendientes**</color>
        â€¢ 2 defectos altos abiertos
        â€¢ Funcionalidad crÃ­tica afectada;
        
        :âš ï¸ **EscalaciÃ³n a Management**
        â€¢ Informar riesgos a stakeholders
        â€¢ Solicitar decisiÃ³n Go/No-Go
        â€¢ Documentar excepciones;
        
        if (ğŸ¯ **Â¿AprobaciÃ³n Excepcional?**) then (âœ… SÃ)
            :ğŸ“‹ **Release Condicional**
            Sujeto a correcciones post-release;
        else (âŒ NO)
            :<color:red>ğŸš« **RELEASE BLOQUEADO**</color>;
            stop
        endif
    endif
}

partition "**FASE 8: CIERRE Y LECCIONES APRENDIDAS**" #FFF8E1 {
    :ğŸ“„ **Test Summary Report**
    â€¢ Resumen ejecutivo
    â€¢ AnÃ¡lisis de calidad
    â€¢ Lecciones aprendidas;
    
    if (ğŸ¯ **Â¿Release Aprobado?**) then (âœ… SÃ)
        :ğŸ‰ **RELEASE APPROVED**
        **CONDICIONALMENTE APTO**
        Para correcciones especÃ­ficas;
        
        :ğŸ“‹ **Plan Post-Release**
        â€¢ DEF-002: Buffer overflow (4h)
        â€¢ DEF-003: Race condition (8h)
        â€¢ Fecha lÃ­mite: 18 Sept 2025;
        
        :ğŸ“Š **MÃ©tricas de Ã‰xito**
        â€¢ User Satisfaction: >4.7/5.0
        â€¢ System Availability: 99.9%
        â€¢ Performance: <2s response;
        
        :âœ… **PROYECTO COMPLETADO**
        200 horas esfuerzo
        $18,500 USD inversiÃ³n;
        
    else (âŒ NO)
        :<color:red>ğŸš« **RELEASE REJECTED**</color>
        Defectos crÃ­ticos pendientes;
        
        :ğŸ”„ **Ciclo de CorrecciÃ³n**
        Retornar a fase de correcciÃ³n;
        
        stop
    endif
}

:ğŸ† **PROCESO FINALIZADO**
Sistema listo para producciÃ³n;

stop

legend right
    |<color:green>âœ…</color>| **Flujo de Ã‰xito** |
    |<color:red>âŒ</color>| **Flujo de Fallo** |
    |<color:orange>âš ï¸</color>| **Punto de DecisiÃ³n CrÃ­tico** |
    |<color:blue>ğŸ”„</color>| **Re-testing Required** |
    |<color:purple>ğŸ“Š</color>| **MÃ©tricas y MediciÃ³n** |
    |<color:brown>ğŸ§ª</color>| **Actividades de Testing Temprano** |
    |<color:navy>ğŸ“‹</color>| **Reviews y Validaciones** |
endlegend

@enduml