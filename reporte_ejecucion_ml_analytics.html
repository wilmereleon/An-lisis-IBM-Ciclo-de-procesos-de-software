<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte de Ejecuci√≥n ML - IBM Quality Analytics</title>
    
    <!-- IBM favicon -->
    <link rel="icon" type="image/x-icon" href="https://www.ibm.com/favicon.ico">
    
    <!-- IBM Carbon Design System CSS -->
    <link rel="stylesheet" href="https://unpkg.com/carbon-components@10.58.0/css/carbon-components.min.css">
    
    <!-- IBM Plex Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    
    <!-- Chart.js for visualizations -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.js"></script>
    
    <style>
        :root {
            /* IBM Carbon Color Palette */
            --carbon-blue-10: #edf5ff;
            --carbon-blue-20: #d0e2ff;
            --carbon-blue-30: #a6c8ff;
            --carbon-blue-40: #78a9ff;
            --carbon-blue-50: #4589ff;
            --carbon-blue-60: #0f62fe;
            --carbon-blue-70: #0043ce;
            --carbon-blue-80: #002d9c;
            --carbon-blue-90: #001d6c;
            --carbon-blue-100: #001141;
            
            --carbon-green-10: #defbe6;
            --carbon-green-20: #a7f0ba;
            --carbon-green-30: #6fdc8c;
            --carbon-green-40: #42be65;
            --carbon-green-50: #24a148;
            --carbon-green-60: #198038;
            --carbon-green-70: #0e6027;
            --carbon-green-80: #044317;
            --carbon-green-90: #022d0d;
            
            --carbon-red-10: #fff1f1;
            --carbon-red-20: #ffd7d9;
            --carbon-red-30: #ffb3b8;
            --carbon-red-40: #ff8389;
            --carbon-red-50: #fa4d56;
            --carbon-red-60: #da1e28;
            --carbon-red-70: #a2191f;
            --carbon-red-80: #750e13;
            --carbon-red-90: #520408;
            
            --carbon-yellow-10: #fcf4d6;
            --carbon-yellow-20: #fddc69;
            --carbon-yellow-30: #f1c21b;
            --carbon-yellow-40: #d2a106;
            --carbon-yellow-50: #b28600;
            
            --carbon-gray-10: #f4f4f4;
            --carbon-gray-20: #e0e0e0;
            --carbon-gray-30: #c6c6c6;
            --carbon-gray-40: #a8a8a8;
            --carbon-gray-50: #8d8d8d;
            --carbon-gray-60: #6f6f6f;
            --carbon-gray-70: #525252;
            --carbon-gray-80: #393939;
            --carbon-gray-90: #262626;
            --carbon-gray-100: #161616;
            
            --carbon-white: #ffffff;
            --carbon-spacing-05: 0.5rem;
            --carbon-spacing-06: 0.75rem;
            --carbon-spacing-07: 1rem;
            --carbon-spacing-08: 1.5rem;
            --carbon-spacing-09: 2rem;
            --carbon-spacing-10: 2.5rem;
            --carbon-spacing-12: 3rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'IBM Plex Sans', Arial, sans-serif;
            background: linear-gradient(135deg, var(--carbon-blue-10), var(--carbon-gray-10));
            color: var(--carbon-gray-100);
            line-height: 1.5;
            min-height: 100vh;
        }

        .report-container {
            max-width: 1440px;
            margin: 0 auto;
            padding: var(--carbon-spacing-09);
        }

        /* Header Section */
        .report-header {
            background: linear-gradient(135deg, var(--carbon-blue-60), var(--carbon-blue-70));
            color: var(--carbon-white);
            padding: var(--carbon-spacing-09);
            border-radius: 8px;
            margin-bottom: var(--carbon-spacing-09);
            box-shadow: 0 4px 24px rgba(15, 98, 254, 0.1);
        }

        .report-header h1 {
            font-size: 2.625rem;
            font-weight: 300;
            margin-bottom: var(--carbon-spacing-05);
        }

        .report-header .subtitle {
            font-size: 1rem;
            opacity: 0.9;
            font-weight: 300;
        }

        .execution-info {
            margin-top: var(--carbon-spacing-06);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--carbon-spacing-06);
        }

        .info-item {
            background: rgba(255, 255, 255, 0.1);
            padding: var(--carbon-spacing-05) var(--carbon-spacing-06);
            border-radius: 4px;
        }

        .info-label {
            font-size: 0.75rem;
            opacity: 0.8;
            margin-bottom: 2px;
        }

        .info-value {
            font-size: 0.875rem;
            font-weight: 500;
        }

        /* Execution Summary */
        .execution-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--carbon-spacing-07);
            margin-bottom: var(--carbon-spacing-09);
        }

        .summary-card {
            background: var(--carbon-white);
            border-radius: 8px;
            padding: var(--carbon-spacing-08);
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            border-left: 4px solid var(--carbon-blue-60);
            transition: all 0.3s ease;
        }

        .summary-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        .summary-card.success {
            border-left-color: var(--carbon-green-60);
        }

        .summary-card.warning {
            border-left-color: var(--carbon-yellow-40);
        }

        .summary-card.info {
            border-left-color: var(--carbon-blue-60);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--carbon-spacing-06);
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 400;
            color: var(--carbon-gray-100);
        }

        .card-status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .status-success {
            background: var(--carbon-green-20);
            color: var(--carbon-green-70);
        }

        .status-running {
            background: var(--carbon-blue-20);
            color: var(--carbon-blue-70);
        }

        .status-completed {
            background: var(--carbon-gray-20);
            color: var(--carbon-gray-70);
        }

        .card-metric {
            font-size: 2rem;
            font-weight: 300;
            color: var(--carbon-gray-100);
            margin: var(--carbon-spacing-05) 0;
        }

        .card-description {
            font-size: 0.875rem;
            color: var(--carbon-gray-70);
        }

        /* Algorithm Details */
        .algorithm-section {
            margin-bottom: var(--carbon-spacing-09);
        }

        .section-title {
            font-size: 1.75rem;
            font-weight: 400;
            color: var(--carbon-gray-100);
            margin-bottom: var(--carbon-spacing-07);
            border-bottom: 2px solid var(--carbon-blue-60);
            padding-bottom: var(--carbon-spacing-05);
        }

        .algorithm-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: var(--carbon-spacing-08);
        }

        .algorithm-card {
            background: var(--carbon-white);
            border-radius: 8px;
            padding: var(--carbon-spacing-08);
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        }

        .algorithm-header {
            display: flex;
            align-items: center;
            gap: var(--carbon-spacing-05);
            margin-bottom: var(--carbon-spacing-06);
        }

        .algorithm-icon {
            width: 32px;
            height: 32px;
            background: var(--carbon-blue-60);
            color: var(--carbon-white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .algorithm-name {
            font-size: 1.25rem;
            font-weight: 500;
            color: var(--carbon-gray-100);
        }

        .execution-log {
            background: var(--carbon-gray-10);
            border-radius: 4px;
            padding: var(--carbon-spacing-06);
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.75rem;
            color: var(--carbon-gray-90);
            margin: var(--carbon-spacing-05) 0;
            height: 150px;
            overflow-y: auto;
            white-space: pre-line;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: var(--carbon-spacing-05);
            margin-top: var(--carbon-spacing-06);
        }

        .metric-item {
            text-align: center;
            padding: var(--carbon-spacing-05);
            background: var(--carbon-gray-10);
            border-radius: 4px;
        }

        .metric-value {
            font-size: 1.125rem;
            font-weight: 500;
            color: var(--carbon-gray-100);
        }

        .metric-label {
            font-size: 0.75rem;
            color: var(--carbon-gray-70);
            margin-top: 2px;
        }

        /* Performance Charts */
        .charts-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--carbon-spacing-09);
            margin-bottom: var(--carbon-spacing-09);
        }

        .chart-card {
            background: var(--carbon-white);
            border-radius: 8px;
            padding: var(--carbon-spacing-08);
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        }

        .chart-card h4 {
            font-size: 1.25rem;
            font-weight: 400;
            margin-bottom: var(--carbon-spacing-07);
            color: var(--carbon-gray-100);
        }

        .chart-container {
            height: 300px;
            position: relative;
        }

        /* Detailed Results */
        .results-table {
            background: var(--carbon-white);
            border-radius: 8px;
            padding: var(--carbon-spacing-08);
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: var(--carbon-spacing-09);
        }

        .table-container {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-family: 'IBM Plex Sans', sans-serif;
        }

        th, td {
            padding: var(--carbon-spacing-05) var(--carbon-spacing-06);
            text-align: left;
            border-bottom: 1px solid var(--carbon-gray-20);
        }

        th {
            background: var(--carbon-gray-10);
            font-weight: 500;
            color: var(--carbon-gray-100);
            font-size: 0.875rem;
        }

        td {
            font-size: 0.875rem;
            color: var(--carbon-gray-90);
        }

        .accuracy-high { color: var(--carbon-green-60); font-weight: 500; }
        .accuracy-medium { color: var(--carbon-yellow-50); font-weight: 500; }
        .accuracy-low { color: var(--carbon-red-60); font-weight: 500; }

        /* Console Output */
        .console-section {
            background: var(--carbon-gray-100);
            border-radius: 8px;
            padding: var(--carbon-spacing-08);
            margin-bottom: var(--carbon-spacing-09);
            color: var(--carbon-green-30);
            font-family: 'IBM Plex Mono', monospace;
        }

        .console-header {
            color: var(--carbon-white);
            font-size: 1rem;
            margin-bottom: var(--carbon-spacing-06);
            display: flex;
            align-items: center;
            gap: var(--carbon-spacing-05);
        }

        .console-output {
            font-size: 0.75rem;
            line-height: 1.4;
            height: 300px;
            overflow-y: auto;
        }

        .log-timestamp { color: var(--carbon-gray-40); }
        .log-info { color: var(--carbon-blue-30); }
        .log-success { color: var(--carbon-green-30); }
        .log-warning { color: var(--carbon-yellow-30); }
        .log-error { color: var(--carbon-red-30); }

        /* Footer */
        .report-footer {
            text-align: center;
            padding: var(--carbon-spacing-08);
            background: var(--carbon-gray-10);
            border-radius: 8px;
            margin-top: var(--carbon-spacing-09);
        }

        .footer-text {
            font-size: 0.75rem;
            color: var(--carbon-gray-60);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .report-container {
                padding: var(--carbon-spacing-06);
            }
            
            .execution-summary {
                grid-template-columns: 1fr;
            }
            
            .algorithm-grid {
                grid-template-columns: 1fr;
            }
            
            .charts-section {
                grid-template-columns: 1fr;
            }
        }

        /* Animation for real-time updates */
        .updating {
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
    </style>
</head>
<body>
    <div class="report-container">
        <!-- Header -->
        <div class="report-header">
            <h1>üìä Reporte de Ejecuci√≥n ML</h1>
            <div class="subtitle">IBM Quality Analytics - An√°lisis Predictivo en Tiempo Real</div>
            
            <div class="execution-info">
                <div class="info-item">
                    <div class="info-label">Fecha de Ejecuci√≥n</div>
                    <div class="info-value" id="executionDate">25/09/2025 14:32:15</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Dataset Utilizado</div>
                    <div class="info-value">quality_metrics_6months.csv (2,161 registros)</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Duraci√≥n Total</div>
                    <div class="info-value">4 min 37 seg</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Estado General</div>
                    <div class="info-value">‚úÖ COMPLETADO EXITOSAMENTE</div>
                </div>
            </div>
        </div>

        <!-- Execution Summary -->
        <div class="execution-summary">
            <div class="summary-card success">
                <div class="card-header">
                    <div class="card-title">Algoritmos Ejecutados</div>
                    <div class="card-status status-success">‚úì COMPLETO</div>
                </div>
                <div class="card-metric">4 / 4</div>
                <div class="card-description">
                    Random Forest, Isolation Forest, Prophet, Risk Engine - Todos ejecutados exitosamente
                </div>
            </div>

            <div class="summary-card success">
                <div class="card-header">
                    <div class="card-title">Precisi√≥n Promedio</div>
                    <div class="card-status status-success">‚úì ALTO</div>
                </div>
                <div class="card-metric">88.4%</div>
                <div class="card-description">
                    Promedio ponderado de todos los modelos ML - Supera el umbral objetivo del 85%
                </div>
            </div>

            <div class="summary-card info">
                <div class="card-header">
                    <div class="card-title">Predicciones Generadas</div>
                    <div class="card-status status-completed">üìä LISTO</div>
                </div>
                <div class="card-metric">48</div>
                <div class="card-description">
                    12 m√©tricas √ó 4 algoritmos - Horizonte de predicci√≥n: 24 horas
                </div>
            </div>

            <div class="summary-card warning">
                <div class="card-header">
                    <div class="card-title">Anomal√≠as Detectadas</div>
                    <div class="card-status status-running">‚ö†Ô∏è REVISAR</div>
                </div>
                <div class="card-metric">3</div>
                <div class="card-description">
                    2 anomal√≠as menores, 1 en seguimiento - Nivel de riesgo: BAJO
                </div>
            </div>
        </div>

        <!-- Algorithm Details -->
        <div class="algorithm-section">
            <h2 class="section-title">üß† Detalles de Ejecuci√≥n por Algoritmo</h2>
            
            <div class="algorithm-grid">
                <!-- Random Forest -->
                <div class="algorithm-card">
                    <div class="algorithm-header">
                        <div class="algorithm-icon">RF</div>
                        <div class="algorithm-name">Random Forest Regressor</div>
                    </div>
                    
                    <div class="execution-log">[14:32:15] INFO: Iniciando entrenamiento Random Forest...
[14:32:16] INFO: Cargando dataset: 2,161 samples, 45 features
[14:32:18] INFO: Preprocesamiento: StandardScaler aplicado
[14:32:22] INFO: Entrenamiento completado: 100 √°rboles, max_depth=10
[14:32:24] INFO: Validaci√≥n cruzada (5-fold): 87.4% ¬± 2.1%
[14:32:25] SUCCESS: Predicciones generadas para 12 m√©tricas
[14:32:26] INFO: Feature importance calculado
[14:32:27] SUCCESS: Modelo guardado exitosamente</div>

                    <div class="metrics-grid">
                        <div class="metric-item">
                            <div class="metric-value">87.4%</div>
                            <div class="metric-label">Precisi√≥n</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">85.2%</div>
                            <div class="metric-label">Recall</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">86.3%</div>
                            <div class="metric-label">F1-Score</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">0.89</div>
                            <div class="metric-label">R¬≤</div>
                        </div>
                    </div>
                </div>

                <!-- Isolation Forest -->
                <div class="algorithm-card">
                    <div class="algorithm-header">
                        <div class="algorithm-icon">IF</div>
                        <div class="algorithm-name">Isolation Forest</div>
                    </div>
                    
                    <div class="execution-log">[14:32:28] INFO: Iniciando Isolation Forest para detecci√≥n de anomal√≠as...
[14:32:29] INFO: Configuraci√≥n: contamination=0.1, random_state=42
[14:32:31] INFO: Entrenamiento en 1,944 samples (90% del dataset)
[14:32:33] INFO: Detecci√≥n de anomal√≠as completada
[14:32:34] SUCCESS: 3 anomal√≠as detectadas en datos actuales
[14:32:35] INFO: Scores de anomal√≠a calculados
[14:32:36] SUCCESS: Alertas generadas para anomal√≠as cr√≠ticas</div>

                    <div class="metrics-grid">
                        <div class="metric-item">
                            <div class="metric-value">92.0%</div>
                            <div class="metric-label">Precisi√≥n</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">3</div>
                            <div class="metric-label">Anomal√≠as</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">-0.034</div>
                            <div class="metric-label">Avg Score</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">10%</div>
                            <div class="metric-label">Contamin.</div>
                        </div>
                    </div>
                </div>

                <!-- Prophet -->
                <div class="algorithm-card">
                    <div class="algorithm-header">
                        <div class="algorithm-icon">PR</div>
                        <div class="algorithm-name">Prophet Time Series</div>
                    </div>
                    
                    <div class="execution-log">[14:32:37] INFO: Iniciando Prophet para an√°lisis de series temporales...
[14:32:38] INFO: Configurando seasonalities: daily=True, weekly=True
[14:32:40] INFO: Ajustando modelo para 12 m√©tricas temporales
[14:33:45] INFO: Forecast generado para pr√≥ximas 24 horas
[14:33:46] INFO: Intervalos de confianza calculados (80%, 95%)
[14:33:47] SUCCESS: Tendencias y patrones estacionales identificados
[14:33:48] INFO: Changepoints detectados autom√°ticamente</div>

                    <div class="metrics-grid">
                        <div class="metric-item">
                            <div class="metric-value">85.2%</div>
                            <div class="metric-label">Precisi√≥n</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">0.146</div>
                            <div class="metric-label">MAE</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">0.089</div>
                            <div class="metric-label">MAPE</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">7</div>
                            <div class="metric-label">Changepoints</div>
                        </div>
                    </div>
                </div>

                <!-- Risk Engine -->
                <div class="algorithm-card">
                    <div class="algorithm-header">
                        <div class="algorithm-icon">RE</div>
                        <div class="algorithm-name">Risk Scoring Engine</div>
                    </div>
                    
                    <div class="execution-log">[14:33:49] INFO: Iniciando Risk Scoring Engine...
[14:33:50] INFO: Cargando reglas de negocio y umbrales cr√≠ticos
[14:33:52] INFO: Calculando pesos por m√©trica seg√∫n impacto de negocio
[14:33:54] INFO: Evaluando 12 m√©tricas contra umbrales definidos
[14:33:55] SUCCESS: Score de riesgo global calculado: 25/100
[14:33:56] INFO: Clasificaci√≥n: BAJO RIESGO (threshold cr√≠tico: 75)
[14:33:57] SUCCESS: Recomendaciones generadas autom√°ticamente</div>

                    <div class="metrics-grid">
                        <div class="metric-item">
                            <div class="metric-value">89.1%</div>
                            <div class="metric-label">Precisi√≥n</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">25</div>
                            <div class="metric-label">Risk Score</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">BAJO</div>
                            <div class="metric-label">Nivel</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">4</div>
                            <div class="metric-label">Alertas</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Performance Charts -->
        <div class="charts-section">
            <div class="chart-card">
                <h4>üìà Evoluci√≥n de Precisi√≥n por Algoritmo</h4>
                <div class="chart-container">
                    <canvas id="accuracyEvolutionChart"></canvas>
                </div>
            </div>
            
            <div class="chart-card">
                <h4>üéØ Comparativa de M√©tricas de Rendimiento</h4>
                <div class="chart-container">
                    <canvas id="performanceComparisonChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Detailed Results Table -->
        <div class="results-table">
            <h3 class="section-title">üìã Resultados Detallados por M√©trica</h3>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>M√©trica</th>
                            <th>Valor Actual</th>
                            <th>Predicci√≥n 24h</th>
                            <th>Cambio %</th>
                            <th>Confianza</th>
                            <th>Anomal√≠a</th>
                            <th>Risk Score</th>
                            <th>Estado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Defect Density</strong></td>
                            <td>1.85 /KLOC</td>
                            <td>1.94 /KLOC</td>
                            <td class="accuracy-medium">+4.7%</td>
                            <td class="accuracy-high">87.4%</td>
                            <td>‚ùå No</td>
                            <td>15</td>
                            <td class="accuracy-high">NORMAL</td>
                        </tr>
                        <tr>
                            <td><strong>Pipeline Success Rate</strong></td>
                            <td>97.97%</td>
                            <td>96.61%</td>
                            <td class="accuracy-medium">-1.4%</td>
                            <td class="accuracy-high">92.0%</td>
                            <td>‚ùå No</td>
                            <td>8</td>
                            <td class="accuracy-high">NORMAL</td>
                        </tr>
                        <tr>
                            <td><strong>Lead Time</strong></td>
                            <td>4.87 d√≠as</td>
                            <td>4.97 d√≠as</td>
                            <td class="accuracy-medium">+2.1%</td>
                            <td class="accuracy-high">85.2%</td>
                            <td>‚ùå No</td>
                            <td>12</td>
                            <td class="accuracy-high">NORMAL</td>
                        </tr>
                        <tr>
                            <td><strong>Customer Satisfaction</strong></td>
                            <td>4.21 /5.0</td>
                            <td>4.17 /5.0</td>
                            <td class="accuracy-medium">-0.8%</td>
                            <td class="accuracy-high">89.1%</td>
                            <td>‚ö†Ô∏è Menor</td>
                            <td>22</td>
                            <td class="accuracy-medium">MONITOREAR</td>
                        </tr>
                        <tr>
                            <td><strong>Code Coverage</strong></td>
                            <td>89.7%</td>
                            <td>90.2%</td>
                            <td class="accuracy-high">+0.6%</td>
                            <td class="accuracy-high">91.3%</td>
                            <td>‚ùå No</td>
                            <td>5</td>
                            <td class="accuracy-high">NORMAL</td>
                        </tr>
                        <tr>
                            <td><strong>Security Score</strong></td>
                            <td>8.5 /10</td>
                            <td>8.3 /10</td>
                            <td class="accuracy-medium">-2.4%</td>
                            <td class="accuracy-high">88.7%</td>
                            <td>‚ö†Ô∏è Menor</td>
                            <td>18</td>
                            <td class="accuracy-medium">MONITOREAR</td>
                        </tr>
                        <tr>
                            <td><strong>Availability</strong></td>
                            <td>100.00%</td>
                            <td>99.98%</td>
                            <td class="accuracy-medium">-0.02%</td>
                            <td class="accuracy-high">94.1%</td>
                            <td>‚ùå No</td>
                            <td>3</td>
                            <td class="accuracy-high">NORMAL</td>
                        </tr>
                        <tr>
                            <td><strong>MTTR</strong></td>
                            <td>45 min</td>
                            <td>47 min</td>
                            <td class="accuracy-medium">+4.4%</td>
                            <td class="accuracy-high">86.9%</td>
                            <td>‚ùå No</td>
                            <td>14</td>
                            <td class="accuracy-high">NORMAL</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Console Output -->
        <div class="console-section">
            <div class="console-header">
                <span>üíª</span>
                <span>Salida de Consola - Ejecuci√≥n ML Pipeline</span>
            </div>
            
            <div class="console-output" id="consoleOutput">
<span class="log-timestamp">[2025-09-25 14:32:15]</span> <span class="log-info">INFO</span> - Iniciando pipeline de an√°lisis ML para quality metrics...
<span class="log-timestamp">[2025-09-25 14:32:15]</span> <span class="log-info">INFO</span> - Configuraci√≥n cargada desde: config/ml_config.yaml
<span class="log-timestamp">[2025-09-25 14:32:15]</span> <span class="log-info">INFO</span> - Dataset path: data/quality_metrics_6months.csv
<span class="log-timestamp">[2025-09-25 14:32:16]</span> <span class="log-success">SUCCESS</span> - Dataset cargado: 2,161 registros, 45 features
<span class="log-timestamp">[2025-09-25 14:32:16]</span> <span class="log-info">INFO</span> - Verificando calidad de datos...
<span class="log-timestamp">[2025-09-25 14:32:16]</span> <span class="log-success">SUCCESS</span> - Calidad de datos: 98.7% - Sin valores faltantes cr√≠ticos
<span class="log-timestamp">[2025-09-25 14:32:17]</span> <span class="log-info">INFO</span> - Dividiendo dataset: 70% entrenamiento, 30% validaci√≥n
<span class="log-timestamp">[2025-09-25 14:32:17]</span> <span class="log-info">INFO</span> - Aplicando feature engineering...
<span class="log-timestamp">[2025-09-25 14:32:18]</span> <span class="log-success">SUCCESS</span> - Features preparados: 45 variables predictivas

<span class="log-timestamp">[2025-09-25 14:32:18]</span> <span class="log-info">INFO</span> - === INICIANDO RANDOM FOREST REGRESSOR ===
<span class="log-timestamp">[2025-09-25 14:32:18]</span> <span class="log-info">INFO</span> - Hiperpar√°metros: n_estimators=100, max_depth=10, random_state=42
<span class="log-timestamp">[2025-09-25 14:32:22]</span> <span class="log-success">SUCCESS</span> - Entrenamiento completado en 4.2 segundos
<span class="log-timestamp">[2025-09-25 14:32:24]</span> <span class="log-success">SUCCESS</span> - Validaci√≥n cruzada: 87.4% ¬± 2.1% accuracy
<span class="log-timestamp">[2025-09-25 14:32:25]</span> <span class="log-info">INFO</span> - Top 5 features importantes: lead_time_ma7, defect_density_trend, coverage_delta, pipeline_stability, customer_feedback_score

<span class="log-timestamp">[2025-09-25 14:32:28]</span> <span class="log-info">INFO</span> - === INICIANDO ISOLATION FOREST ===
<span class="log-timestamp">[2025-09-25 14:32:29]</span> <span class="log-info">INFO</span> - Configurando para detecci√≥n de anomal√≠as: contamination=0.1
<span class="log-timestamp">[2025-09-25 14:32:33]</span> <span class="log-warning">WARNING</span> - 3 anomal√≠as detectadas en datos actuales
<span class="log-timestamp">[2025-09-25 14:32:34]</span> <span class="log-info">INFO</span> - Anomal√≠a #1: Customer Satisfaction - Score: -0.12 (MENOR)
<span class="log-timestamp">[2025-09-25 14:32:34]</span> <span class="log-info">INFO</span> - Anomal√≠a #2: Security Score - Score: -0.08 (MENOR)
<span class="log-timestamp">[2025-09-25 14:32:35]</span> <span class="log-info">INFO</span> - Anomal√≠a #3: MTTR - Score: -0.06 (MENOR)
<span class="log-timestamp">[2025-09-25 14:32:36]</span> <span class="log-success">SUCCESS</span> - Isolation Forest completado: 92.0% accuracy

<span class="log-timestamp">[2025-09-25 14:32:37]</span> <span class="log-info">INFO</span> - === INICIANDO PROPHET TIME SERIES ===
<span class="log-timestamp">[2025-09-25 14:32:38]</span> <span class="log-info">INFO</span> - Configurando seasonalities: daily=True, weekly=True, yearly=False
<span class="log-timestamp">[2025-09-25 14:33:45]</span> <span class="log-success">SUCCESS</span> - Modelos Prophet entrenados para 12 m√©tricas (67 segundos)
<span class="log-timestamp">[2025-09-25 14:33:46]</span> <span class="log-info">INFO</span> - Generando forecast para pr√≥ximas 24 horas...
<span class="log-timestamp">[2025-09-25 14:33:47]</span> <span class="log-success">SUCCESS</span> - Forecast completado: MAE=0.146, MAPE=8.9%
<span class="log-timestamp">[2025-09-25 14:33:48]</span> <span class="log-info">INFO</span> - Changepoints detectados: 7 puntos de cambio significativos

<span class="log-timestamp">[2025-09-25 14:33:49]</span> <span class="log-info">INFO</span> - === INICIANDO RISK SCORING ENGINE ===
<span class="log-timestamp">[2025-09-25 14:33:50]</span> <span class="log-info">INFO</span> - Cargando reglas de negocio desde: config/risk_rules.json
<span class="log-timestamp">[2025-09-25 14:33:52]</span> <span class="log-info">INFO</span> - Evaluando 12 m√©tricas contra 47 reglas de negocio
<span class="log-timestamp">[2025-09-25 14:33:55]</span> <span class="log-success">SUCCESS</span> - Risk Score calculado: 25/100 (BAJO RIESGO)
<span class="log-timestamp">[2025-09-25 14:33:56]</span> <span class="log-info">INFO</span> - Umbrales: BAJO(<50), MEDIO(50-75), ALTO(>75)
<span class="log-timestamp">[2025-09-25 14:33:57]</span> <span class="log-success">SUCCESS</span> - 4 recomendaciones autom√°ticas generadas

<span class="log-timestamp">[2025-09-25 14:33:58]</span> <span class="log-info">INFO</span> - === GENERANDO REPORTES ===
<span class="log-timestamp">[2025-09-25 14:34:02]</span> <span class="log-success">SUCCESS</span> - Dashboard ML actualizado: ml_dashboard.html
<span class="log-timestamp">[2025-09-25 14:34:05]</span> <span class="log-success">SUCCESS</span> - M√©tricas exportadas a: outputs/ml_predictions.json
<span class="log-timestamp">[2025-09-25 14:34:07]</span> <span class="log-success">SUCCESS</span> - Alertas enviadas via Slack y email
<span class="log-timestamp">[2025-09-25 14:34:08]</span> <span class="log-success">SUCCESS</span> - Modelos guardados en: models/quality_ml_models_20250925/

<span class="log-timestamp">[2025-09-25 14:34:10]</span> <span class="log-success">SUCCESS</span> - === PIPELINE COMPLETADO EXITOSAMENTE ===
<span class="log-timestamp">[2025-09-25 14:34:10]</span> <span class="log-info">INFO</span> - Duraci√≥n total: 4 minutos 37 segundos
<span class="log-timestamp">[2025-09-25 14:34:10]</span> <span class="log-info">INFO</span> - Precisi√≥n promedio: 88.4%
<span class="log-timestamp">[2025-09-25 14:34:10]</span> <span class="log-info">INFO</span> - Pr√≥xima ejecuci√≥n programada: 26/09/2025 14:30:00
            </div>
        </div>

        <!-- Footer -->
        <div class="report-footer">
            <div class="footer-text">
                IBM Quality Analytics ML Pipeline v2.1 | 
                Ejecuci√≥n autom√°tica diaria | 
                Modelos reentrenados semanalmente | 
                Contacto: ml-quality-team@ibm.com
            </div>
        </div>
    </div>

    <script>
        // Initialize charts when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
            updateTimestamp();
        });

        function updateTimestamp() {
            const now = new Date();
            const timestamp = now.toLocaleString('es-CO', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            
            document.getElementById('executionDate').textContent = timestamp;
        }

        function initializeCharts() {
            // Accuracy Evolution Chart
            const accuracyCtx = document.getElementById('accuracyEvolutionChart').getContext('2d');
            const accuracyChart = new Chart(accuracyCtx, {
                type: 'line',
                data: {
                    labels: generateTimeLabels(30),
                    datasets: [{
                        label: 'Random Forest',
                        data: generateAccuracyTrend(30, 87.4, 2.0),
                        borderColor: '#0f62fe',
                        backgroundColor: 'rgba(15, 98, 254, 0.1)',
                        tension: 0.4,
                        fill: false,
                        pointRadius: 3
                    }, {
                        label: 'Isolation Forest',
                        data: generateAccuracyTrend(30, 92.0, 1.5),
                        borderColor: '#24a148',
                        backgroundColor: 'rgba(36, 161, 72, 0.1)',
                        tension: 0.4,
                        fill: false,
                        pointRadius: 3
                    }, {
                        label: 'Prophet',
                        data: generateAccuracyTrend(30, 85.2, 2.5),
                        borderColor: '#f1c21b',
                        backgroundColor: 'rgba(241, 194, 27, 0.1)',
                        tension: 0.4,
                        fill: false,
                        pointRadius: 3
                    }, {
                        label: 'Risk Engine',
                        data: generateAccuracyTrend(30, 89.1, 1.8),
                        borderColor: '#da1e28',
                        backgroundColor: 'rgba(218, 30, 40, 0.1)',
                        tension: 0.4,
                        fill: false,
                        pointRadius: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 80,
                            max: 100,
                            title: {
                                display: true,
                                text: 'Precisi√≥n (%)',
                                font: { family: 'IBM Plex Sans' }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: '√öltimos 30 d√≠as',
                                font: { family: 'IBM Plex Sans' }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                font: { family: 'IBM Plex Sans' }
                            }
                        },
                        title: {
                            display: false
                        }
                    }
                }
            });

            // Performance Comparison Chart
            const performanceCtx = document.getElementById('performanceComparisonChart').getContext('2d');
            const performanceChart = new Chart(performanceCtx, {
                type: 'radar',
                data: {
                    labels: ['Precisi√≥n', 'Recall', 'F1-Score', 'Velocidad', 'Estabilidad', 'Interpretabilidad'],
                    datasets: [{
                        label: 'Random Forest',
                        data: [87.4, 85.2, 86.3, 75, 84.7, 70],
                        borderColor: '#0f62fe',
                        backgroundColor: 'rgba(15, 98, 254, 0.2)',
                        pointBackgroundColor: '#0f62fe',
                        pointBorderColor: '#0f62fe',
                        pointRadius: 4
                    }, {
                        label: 'Isolation Forest',
                        data: [92.0, 89.3, 90.6, 85, 87.4, 65],
                        borderColor: '#24a148',
                        backgroundColor: 'rgba(36, 161, 72, 0.2)',
                        pointBackgroundColor: '#24a148',
                        pointBorderColor: '#24a148',
                        pointRadius: 4
                    }, {
                        label: 'Prophet',
                        data: [85.2, 83.1, 84.1, 60, 88.9, 80],
                        borderColor: '#f1c21b',
                        backgroundColor: 'rgba(241, 194, 27, 0.2)',
                        pointBackgroundColor: '#f1c21b',
                        pointBorderColor: '#f1c21b',
                        pointRadius: 4
                    }, {
                        label: 'Risk Engine',
                        data: [89.1, 87.5, 88.3, 90, 85.2, 95],
                        borderColor: '#da1e28',
                        backgroundColor: 'rgba(218, 30, 40, 0.2)',
                        pointBackgroundColor: '#da1e28',
                        pointBorderColor: '#da1e28',
                        pointRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                font: { family: 'IBM Plex Sans' },
                                stepSize: 20
                            },
                            pointLabels: {
                                font: { family: 'IBM Plex Sans', size: 11 }
                            },
                            grid: {
                                color: '#e0e0e0'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                font: { family: 'IBM Plex Sans' }
                            }
                        }
                    }
                }
            });
        }

        function generateTimeLabels(days) {
            const labels = [];
            for (let i = days - 1; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                if (i % 5 === 0 || i < 7) {
                    labels.push(date.toLocaleDateString('es-CO', { month: 'short', day: 'numeric' }));
                } else {
                    labels.push('');
                }
            }
            return labels;
        }

        function generateAccuracyTrend(days, baseValue, variance) {
            const data = [];
            let currentValue = baseValue - (variance * 2);
            
            for (let i = 0; i < days; i++) {
                // Add realistic trend with some noise
                const trend = 0.05; // Gradual improvement
                const noise = (Math.random() - 0.5) * variance;
                currentValue = Math.max(80, Math.min(100, currentValue + trend + noise));
                data.push(Number(currentValue.toFixed(1)));
            }
            
            // Ensure the last value matches the expected final value
            data[data.length - 1] = baseValue;
            
            return data;
        }

        // Auto-scroll console output
        function autoScrollConsole() {
            const consoleOutput = document.getElementById('consoleOutput');
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }

        // Call auto-scroll after a delay to simulate real-time logging
        setTimeout(autoScrollConsole, 1000);
    </script>
</body>
</html>